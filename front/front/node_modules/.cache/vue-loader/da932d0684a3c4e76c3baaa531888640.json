{"remainingRequest":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\src\\pages\\healthmanage\\index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\src\\pages\\healthmanage\\index.vue","mtime":1710834334940},{"path":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\李龙\\Desktop\\graduation\\front\\front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnRpbWUgew0KICBmb250LXNpemU6IDEzcHg7DQogIGNvbG9yOiAjOTk5Ow0KfQ0KDQouYm90dG9tIHsNCiAgbWFyZ2luLXRvcDogMTNweDsNCiAgbGluZS1oZWlnaHQ6IDEycHg7DQp9DQoNCi5idXR0b24gew0KICBwYWRkaW5nOiAwOw0KICBmbG9hdDogcmlnaHQ7DQp9DQoNCi5pbWFnZSB7DQogIHdpZHRoOiAxMDAlOw0KICBoZWlnaHQ6IDI1MHB4Ow0KICBkaXNwbGF5OiBibG9jazsNCn0NCi5pbWFnZTEgew0KICB3aWR0aDogMTAwJTsNCiAgaGVpZ2h0OiA2MHZoOw0KICBkaXNwbGF5OiBibG9jazsNCn0NCg0KLmNsZWFyZml4OmJlZm9yZSwNCi5jbGVhcmZpeDphZnRlciB7DQogIGRpc3BsYXk6IHRhYmxlOw0KICBjb250ZW50OiAiIjsNCn0NCg0KLmNsZWFyZml4OmFmdGVyIHsNCiAgY2xlYXI6IGJvdGg7DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgaA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/healthmanage","sourcesContent":["<template>\r\n  <div>\r\n    <el-row>\r\n      <el-col :span=\"4\">\r\n        <div class=\"div1\"><LeftBat></LeftBat></div\r\n      ></el-col>\r\n      <el-col :span=\"20\">\r\n        <div class=\"card\" v-if=\"iftest === 0\">\r\n          <h2><strong>处方评测</strong> 简介</h2>\r\n          <div>\r\n            <small\r\n              >由于您未完成<strong>个人体制评测</strong>，所以暂未为您生成运动处方，如果想要获得合适的运动处方，请您尽快完成相关评测</small\r\n            >\r\n          </div>\r\n          <div>\r\n            <el-button round class=\"m-t-5\" type=\"text\" @click=\"access()\"\r\n              >立即测评</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n        <div class=\"card\" v-if=\"iftest === 1\">\r\n          <h2>\r\n            您最近一次体制评测成绩为 ：<strong>{{ score }}</strong>\r\n          </h2>\r\n\r\n          <div>\r\n            <el-button round class=\"m-t-5\" type=\"text\" @click=\"access\"\r\n              >重新测评</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n\r\n        <dv-water-level-pond\r\n          :config=\"config\"\r\n          style=\"width:150px;height:200px\"\r\n        />\r\n\r\n        <div class=\"card\">\r\n          <span style=\"font-size: 20px; font-weight: 1000; margin:10px; \"\r\n            >根据您最近一次的测量结果您可以选择以下运动处方</span\r\n          >\r\n          <el-row style=\"margin-top: 20px;\">\r\n            <el-col\r\n              style=\"margin-bottom: 10px;\"\r\n              :span=\"8\"\r\n              v-for=\"(o, index) in standard\"\r\n              :key=\"o\"\r\n            >\r\n              <el-card :body-style=\"{ padding: '10px' }\">\r\n                <img :src=\"o.videoUrl\" class=\"image\" />\r\n                <div style=\"padding: 14px;\">\r\n                  <span>{{ o.name }}</span>\r\n                  <div class=\"bottom clearfix\">\r\n                    <time class=\"time\">{{ currentDate }}</time>\r\n                    <el-button\r\n                      type=\"text\"\r\n                      class=\"selectStandard\"\r\n                      @click=\"watchdetail(index)\"\r\n                      style=\"margin-left: 40%;\"\r\n                      >查看详情</el-button\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </el-card>\r\n            </el-col>\r\n          </el-row>\r\n        </div>\r\n        <!-- v-if=\"isaccess === true\" -->\r\n        <el-dialog\r\n          title=\"体制评测（可选填）\"\r\n          :visible.sync=\"dialogVisible\"\r\n          width=\"70%\"\r\n          :before-close=\"handleClose\"\r\n        >\r\n          <div class=\"card m-t-5\">\r\n            <!-- <h2\r\n              style=\"color: rgb(86,156,203); font-size: 40px; text-align: center;\"\r\n            >\r\n              体制测评(填写数据越全越精准)\r\n            </h2> -->\r\n            <el-form ref=\"form\" :model=\"healthaccess\" label-width=\"80px\">\r\n              <el-row :gutter=\"0\">\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"姓名\">\r\n                    <el-input v-model=\"healthaccess.username\">\r\n                      <!-- <template slot=\"append\">cm</template> -->\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"身高\">\r\n                    <el-input v-model=\"healthaccess.height\">\r\n                      <template slot=\"append\">cm</template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n              </el-row>\r\n              <el-row :gutter=\"0\">\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"体重\">\r\n                    <el-input v-model=\"healthaccess.weight\">\r\n                      <template slot=\"append\">kg</template>\r\n                    </el-input>\r\n                  </el-form-item></el-col\r\n                >\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"年龄\">\r\n                    <el-input v-model=\"healthaccess.age\">\r\n                      <!-- <template slot=\"append\">kg</template> -->\r\n                    </el-input>\r\n                  </el-form-item></el-col\r\n                >\r\n              </el-row>\r\n              <el-row :gutter=\"0\">\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"安静心率测试1\" label-width=\"120px\">\r\n                    <el-input v-model=\"healthaccess.heartrate1\">\r\n                      <template slot=\"append\">/min</template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"安静心率测试2\" label-width=\"120px\">\r\n                    <el-input v-model=\"healthaccess.heartrate2\">\r\n                      <template slot=\"append\">/min</template>\r\n                    </el-input>\r\n                  </el-form-item></el-col\r\n                >\r\n              </el-row>\r\n              <el-row :gutter=\"0\">\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"俯卧撑数\">\r\n                    <el-input v-model=\"healthaccess.pushUp\">\r\n                      <template slot=\"append\">/min</template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"引体向上\">\r\n                    <el-input v-model=\"healthaccess.pullUp\">\r\n                      <template slot=\"append\">/min</template>\r\n                    </el-input>\r\n                  </el-form-item></el-col\r\n                >\r\n              </el-row>\r\n              <el-row :gutter=\"0\">\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"仰卧起坐\">\r\n                    <el-input v-model=\"healthaccess.siteUp\">\r\n                      <template slot=\"append\">/min</template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"配速\">\r\n                    <el-input v-model=\"healthaccess.rate\">\r\n                      <template slot=\"append\">min/1km</template>\r\n                    </el-input>\r\n                  </el-form-item></el-col\r\n                >\r\n              </el-row>\r\n              <el-row :gutter=\"0\">\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"饭前血糖\">\r\n                    <el-input v-model=\"healthaccess.bloodGlucose\">\r\n                      <template slot=\"append\">mmol/L</template>\r\n                    </el-input>\r\n                  </el-form-item>\r\n                </el-col>\r\n                <el-col :span=\"12\">\r\n                  <el-form-item label=\"睡眠\">\r\n                    <el-input v-model=\"healthaccess.sleep\">\r\n                      <template slot=\"append\">h</template>\r\n                    </el-input>\r\n                  </el-form-item></el-col\r\n                >\r\n              </el-row>\r\n              <el-form-item label=\"上周平均步数\" label-width=\"100px\">\r\n                <el-input v-model=\"healthaccess.stepNumber\"> </el-input>\r\n              </el-form-item>\r\n\r\n              <el-form-item label=\"\">\r\n                <el-checkbox-group v-model=\"healthaccess.typenameTemp\">\r\n                  <el-checkbox\r\n                    v-for=\"item in type\"\r\n                    :label=\"item\"\r\n                    :key=\"item.id\"\r\n                    v-model=\"healthaccess.typenameTemp\"\r\n                  ></el-checkbox>\r\n                </el-checkbox-group>\r\n              </el-form-item>\r\n              <!-- <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\r\n                <el-button @click=\"cancle\">取消</el-button>\r\n              </el-form-item> -->\r\n            </el-form>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"onSubmit\">确 定</el-button>\r\n          </span>\r\n        </el-dialog>\r\n        <el-dialog\r\n          :visible.sync=\"dialogVisible2\"\r\n          width=\"80%\"\r\n          :before-close=\"handleClose\"\r\n        >\r\n          <template slot=\"title\">\r\n            <div class=\"div2\">{{ standardOne.name }}</div>\r\n          </template>\r\n          <el-row>\r\n            <el-col :span=\"12\"\r\n              ><div><img class=\"image1\" :src=\"standardOne.videoUrl\" /></div\r\n            ></el-col>\r\n            <el-col :span=\"12\">\r\n              <el-form\r\n                :model=\"standardOne\"\r\n                label-width=\"100px\"\r\n                label-position=\"left\"\r\n                style=\"padding-left: 40px;\"\r\n              >\r\n                <el-form-item label=\"名称\" size=\"medium\">\r\n                  <!-- <el-input v-model=\"standardOne.name\"></el-input> -->\r\n                  {{ standardOne.name }}\r\n                </el-form-item>\r\n                <el-form-item label=\"建议运动时长\" size=\"medium\">\r\n                  <!-- <el-input v-model=\"standardOne.name\"></el-input> -->\r\n                  {{ standardOne.sportsTime }}\r\n                </el-form-item>\r\n                <el-form-item label=\"建议运动频率\" size=\"medium\">\r\n                  <!-- <el-input v-model=\"standardOne.name\"></el-input> -->\r\n                  {{ standardOne.sportsFrequency }}\r\n                </el-form-item>\r\n                <el-form-item label=\"注意事项\" size=\"medium\">\r\n                  <!-- <el-input v-model=\"standardOne.name\"></el-input> -->\r\n                  {{ standardOne.notice }}\r\n                </el-form-item>\r\n\r\n                <!-- </el-form-item> -->\r\n              </el-form></el-col\r\n            >\r\n          </el-row>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"dialogVisible2 = false\">取 消</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogVisible2 = false\"\r\n              >确 定</el-button\r\n            >\r\n          </span>\r\n        </el-dialog>\r\n      </el-col>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      iftest: 0,\r\n      loading: true,\r\n      currentDate: \"\",\r\n      dialogVisible: false,\r\n      dialogVisible2: false,\r\n      score: \"\",\r\n      isaccess: false,\r\n      standard: [],\r\n      standardOne: {},\r\n      healthaccess: {\r\n        username: \"\",\r\n        height: \"\",\r\n        weight: \"\",\r\n        age: \"\",\r\n        heartrate1: \"\",\r\n        heartrate2: \"\",\r\n        typename: \"\",\r\n        pushUp: \"\", //俯卧撑\r\n        pullUp: \"\", //引体向上\r\n        siteUp: \"\", //仰卧起坐\r\n        rate: \"\", //配速\r\n        bloodGlucose: \"\", //饭前血糖\r\n        sleep: \"\",\r\n        stepNumber: \"\",\r\n        typenameTemp: [],\r\n      },\r\n      type: [],\r\n      selectedDiseases: [],\r\n      data: [66, 45],\r\n      shape: \"roundRect\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getDiseaseData();\r\n    // this.accessscore();\r\n    this.getNowTime();\r\n    // this.selectStandard();\r\n  },\r\n  methods: {\r\n    getDiseaseData() {\r\n      this.$http\r\n        .get(this.$config.baseUrl + \"disease/diseaseAll\")\r\n        .then((response) => {\r\n          console.log(response.data.data);\r\n          this.type = response.data.data;\r\n        });\r\n    },\r\n    access() {\r\n      this.isaccess = true;\r\n      this.dialogVisible = true;\r\n    },\r\n    cancle() {\r\n      this.isaccess = false;\r\n    },\r\n    accessscore() {\r\n      this.$http\r\n        .get(\r\n          this.$config.baseUrl +\r\n            \"healthaccess/sbrscore?username=\" +\r\n            localStorage.getItem(\"adminName\")\r\n        )\r\n        .then((response) => {\r\n          console.log(response.data.score);\r\n          if (response.data.score != 0) {\r\n            this.iftest = 1;\r\n            this.score.value = response.data.score;\r\n          }\r\n        });\r\n    },\r\n    onSubmit() {\r\n      this.dialogVisible = false;\r\n      this.username = localStorage.getItem(\"adminName\");\r\n      this.healthaccess.typename = this.healthaccess.typenameTemp.join(\",\");\r\n      console.log(JSON.stringify(this.healthaccess));\r\n      this.$http\r\n        .post(\r\n          this.$config.baseUrl + \"healthaccess/insertHealthAccess\",\r\n          this.healthaccess\r\n        )\r\n        .then((response) => {\r\n          // this.score = response.data.score;\r\n          console.log(response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    // handleClose(done) {\r\n    //   this.$confirm(\"确认关闭？\")\r\n    //     .then((_) => {\r\n    //       done();\r\n    //     })\r\n    //     .catch((_) => {});\r\n    // },\r\n    watchdetail(index) {\r\n      this.dialogVisible2 = true;\r\n      this.standardOne = this.standard[index];\r\n    },\r\n    selectStandard() {\r\n      this.$http\r\n        .get(\r\n          this.$config.baseUrl +\r\n            \"healthaccess/sbrscore?username=\" +\r\n            localStorage.getItem(\"adminName\")\r\n        )\r\n        .then((response) => {\r\n          if (response.data.score != 0) {\r\n            this.iftest = 1;\r\n            this.score = response.data.score;\r\n            localStorage.setItem(\"score\", response.data.score);\r\n          }\r\n          console.log(response.data.score);\r\n        });\r\n      this.$http\r\n        .get(\r\n          this.$config.baseUrl +\r\n            \"standard/standardRecipe?score=\" +\r\n            localStorage.getItem(\"score\")\r\n        )\r\n        .then((response) => {\r\n          // console.log(localStorage.getItem(\"score\"));\r\n          this.standard = response.data.standard;\r\n          console.log(this.score);\r\n          console.log(this.standard);\r\n        });\r\n    },\r\n    //格式化时间格式\r\n    getNowTime() {\r\n      const yy = new Date().getFullYear();\r\n      const MM =\r\n        new Date().getMonth() + 1 < 10\r\n          ? \"0\" + (new Date().getMonth() + 1)\r\n          : new Date().getMonth() + 1;\r\n      const dd =\r\n        new Date().getDate() < 10\r\n          ? \"0\" + new Date().getDate()\r\n          : new Date().getDate();\r\n      const HH =\r\n        new Date().getHours() < 10\r\n          ? \"0\" + new Date().getHours()\r\n          : new Date().getHours();\r\n      const mm =\r\n        new Date().getMinutes() < 10\r\n          ? \"0\" + new Date().getMinutes()\r\n          : new Date().getMinutes();\r\n      const ss =\r\n        new Date().getSeconds() < 10\r\n          ? \"0\" + new Date().getSeconds()\r\n          : new Date().getSeconds();\r\n      this.currentDate =\r\n        yy + \"-\" + MM + \"-\" + dd + \" \" + HH + \":\" + mm + \":\" + ss;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.selectStandard();\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.time {\r\n  font-size: 13px;\r\n  color: #999;\r\n}\r\n\r\n.bottom {\r\n  margin-top: 13px;\r\n  line-height: 12px;\r\n}\r\n\r\n.button {\r\n  padding: 0;\r\n  float: right;\r\n}\r\n\r\n.image {\r\n  width: 100%;\r\n  height: 250px;\r\n  display: block;\r\n}\r\n.image1 {\r\n  width: 100%;\r\n  height: 60vh;\r\n  display: block;\r\n}\r\n\r\n.clearfix:before,\r\n.clearfix:after {\r\n  display: table;\r\n  content: \"\";\r\n}\r\n\r\n.clearfix:after {\r\n  clear: both;\r\n}\r\n</style>\r\n"]}]}